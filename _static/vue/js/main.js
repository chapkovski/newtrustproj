(function(e){function t(t){for(var n,r,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,l=1;l<o.length;l++){var s=o[l];0!==a[s]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},a={main:0},i=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/static/vue/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"532b":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("TypeAhead",{attrs:{field_id:this.field_id,field_name:this.field_name}})],1)},i=[],r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-group required"},[o("div",{staticClass:"controls  field-location"},[o("vue-google-autocomplete",{ref:"address",attrs:{id:this.field_id,classname:"form-control",placeholder:"Введите название",types:"(cities)",name:this.field_name},on:{placechanged:e.getAddressData}})],1)])},l=[],s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("input",{directives:[{name:"model",rawName:"v-model",value:e.autocompleteText,expression:"autocompleteText"}],ref:"autocomplete",class:e.classname,attrs:{type:"text",id:e.id,placeholder:e.placeholder,required:!0,name:e.name},domProps:{value:e.autocompleteText},on:{focus:function(t){return e.onFocus()},blur:function(t){return e.onBlur()},change:e.onChange,keypress:e.onKeyPress,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.autocompleteText=t.target.value)}}})},c=[],u=(o("99af"),o("caad"),o("2532"),o("b85c")),d={subpremise:"short_name",street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",administrative_area_level_2:"long_name",country:"long_name",postal_code:"short_name"},p=["locality","administrative_area_level_3"],f=["locality","sublocality","postal_code","country","administrative_area_level_1","administrative_area_level_2"],m={name:"VueGoogleAutocomplete",props:{id:{type:String,required:!0},name:String,classname:String,placeholder:{type:String,default:"Start typing"},types:{type:String,default:"address"},country:{type:[String,Array],default:null},enableGeolocation:{type:Boolean,default:!1},geolocationOptions:{type:Object,default:null}},data:function(){return{autocomplete:null,autocompleteText:"",geolocation:{geocoder:null,loc:null,position:null}}},watch:{autocompleteText:function(e,t){this.$emit("inputChange",{newVal:e,oldVal:t},this.id)},country:function(e,t){this.autocomplete.setComponentRestrictions({country:null===this.country?[]:this.country})}},mounted:function(){var e={};this.types&&(e.types=[this.types]),this.country&&(e.componentRestrictions={country:this.country}),this.autocomplete=new google.maps.places.Autocomplete(document.getElementById(this.id),e),this.autocomplete.addListener("place_changed",this.onPlaceChanged)},methods:{onPlaceChanged:function(){var e=this.autocomplete.getPlace();e.geometry?void 0!==e.address_components&&(this.$emit("placechanged",this.formatResult(e),e,this.id),this.autocompleteText=document.getElementById(this.id).value,this.onChange()):this.$emit("no-results-found",e,this.id)},onFocus:function(){this.biasAutocompleteLocation(),this.$emit("focus")},onBlur:function(){this.$emit("blur")},onChange:function(){this.$emit("change",this.autocompleteText)},onKeyPress:function(e){this.$emit("keypress",e)},onKeyUp:function(e){this.$emit("keyup",e)},clear:function(){this.autocompleteText=""},focus:function(){this.$refs.autocomplete.focus()},blur:function(){this.$refs.autocomplete.blur()},update:function(e){this.autocompleteText=e},updateCoordinates:function(e){var t=this;(e||e.lat||e.lng)&&(this.geolocation.geocoder||(this.geolocation.geocoder=new google.maps.Geocoder),this.geolocation.geocoder.geocode({location:e},(function(e,o){"OK"===o?(e=t.filterGeocodeResultTypes(e),e[0]?(t.$emit("placechanged",t.formatResult(e[0]),e[0],t.id),t.update(e[0].formatted_address)):t.$emit("error","no result for provided coordinates")):t.$emit("error","error getting address from coords")})))},geolocate:function(){var e=this;this.updateGeolocation((function(t,o){e.updateCoordinates(t)}))},updateGeolocation:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(navigator.geolocation){var o={};this.geolocationOptions&&Object.assign(o,this.geolocationOptions),navigator.geolocation.getCurrentPosition((function(o){var n={lat:o.coords.latitude,lng:o.coords.longitude};e.geolocation.loc=n,e.geolocation.position=o,t&&t(n,o)}),(function(t){e.$emit("error","Cannot get Coordinates from navigator",t)}),o)}},biasAutocompleteLocation:function(){var e=this;this.enableGeolocation&&this.updateGeolocation((function(t,o){var n=new google.maps.Circle({center:t,radius:o.coords.accuracy});e.autocomplete.setBounds(n.getBounds())}))},formatResult:function(e){for(var t={},o=0;o<e.address_components.length;o++){var n=e.address_components[o].types[0];if(d[n]){var a=e.address_components[o][d[n]];t[n]=a}}return t["latitude"]=e.geometry.location.lat(),t["longitude"]=e.geometry.location.lng(),t},filterGeocodeResultTypes:function(e){if(!e||!this.types)return e;var t=[],o=[this.types];o.includes("(cities)")&&(o=o.concat(p)),o.includes("(regions)")&&(o=o.concat(f));var n,a=Object(u["a"])(e);try{for(a.s();!(n=a.n()).done;){var i,r=n.value,l=Object(u["a"])(r.types);try{for(l.s();!(i=l.n()).done;){var s=i.value;if(o.includes(s)){t.push(r);break}}}catch(c){l.e(c)}finally{l.f()}}}catch(c){a.e(c)}finally{a.f()}return t}}},h=m,g=o("2877"),y=Object(g["a"])(h,s,c,!1,null,null,null),v=y.exports,_={name:"HelloWorld",props:["field_id","field_name"],components:{VueGoogleAutocomplete:v},data:function(){return{address:"",retrieved_address:""}},methods:{getAddressData:function(e,t){console.debug("PLACE",t.formatted_address),this.address=e,t&&t.formatted_address&&(this.retrieved_address=t.formatted_address)}}},b=_,O=(o("ce3f"),Object(g["a"])(b,r,l,!1,null,"138f21e8",null)),w=O.exports,x={name:"App",data:function(){return{field_id:window.field_id||"id_birthplace",field_name:window.field_name||"birthplace"}},components:{TypeAhead:w}},$=x,T=Object(g["a"])($,a,i,!1,null,null,null),j=T.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(j)}}).$mount("#birthplace_app")},ce3f:function(e,t,o){"use strict";var n=o("532b"),a=o.n(n);a.a}});
//# sourceMappingURL=main.js.map